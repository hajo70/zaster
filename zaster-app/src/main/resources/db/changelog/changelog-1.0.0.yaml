databaseChangeLog:
  - changeSet:
      id: 1
      author: SchemaToLiquibaseYamlTool
      changes:
        - createTable:
            tableName: ACCOUNT
            columns:
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: ACCOUNT_GROUP_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_ACCOUNT_ACCOUNT_GROUP_ID_ACCOUNT_GROUP
                    referencedTableName: ACCOUNT_GROUP
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: CURRENCY_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_ACCOUNT_CURRENCY_ID_CURRENCY
                    referencedTableName: CURRENCY
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_ACCOUNT
        - createTable:
            tableName: ACCOUNT_GROUP
            columns:
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: ACCOUNT_CODE
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: ACCOUNT_NAME
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_ACCOUNT_GROUP
              - column:
                  name: PARENT_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    foreignKeyName: FK_ACCOUNT_GROUP_PARENT_ID_ACCOUNT_GROUP
                    referencedTableName: ACCOUNT_GROUP
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: TENANT_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_ACCOUNT_GROUP_TENANT_ID_TENANT
                    referencedTableName: TENANT
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: METADATA
                  type: java.sql.Types.CLOB(2147483647)
        - createTable:
            tableName: APPLICATION_USER
            columns:
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: HASHED_PASSWORD
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_APPLICATION_USER
              - column:
                  name: NAME
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: TENANT_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_APPLICATION_USER_TENANT_ID_TENANT
                    referencedTableName: TENANT
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: USERNAME
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    unique: true
        - createTable:
            tableName: APPLICATION_USER_ROLE
            columns:
              - column:
                  name: USER_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_APPLICATION_USER_ROLE_USER_ID_APPLICATION_USER
                    referencedTableName: APPLICATION_USER
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: USER_ROLES
                  type: java.sql.Types.NVARCHAR(255)
        - createTable:
            tableName: BOOKING
            columns:
              - column:
                  name: AMOUNT
                  type: java.sql.Types.DECIMAL(40, 15)
              - column:
                  name: BOOKED_AT_DATE
                  type: java.sql.Types.DATE
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: ACCOUNT_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_BOOKING_ACCOUNT_ID_ACCOUNT
                    referencedTableName: ACCOUNT
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: BOOKED_AT_TS
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_BOOKING
              - column:
                  name: TRANSACTION_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_BOOKING_TRANSACTION_ID_TRANSACTION
                    referencedTableName: TRANSACTION
                    referencedColumnNames: ID
                    deleteCascade: true
        - createTable:
            tableName: CURRENCY
            columns:
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: CURRENCY_CODE
                  type: java.sql.Types.NVARCHAR(8)
              - column:
                  name: CURRENCY_TYPE
                  type: java.sql.Types.NVARCHAR(8)
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: ZASTER_CURRENCY
                  type: java.sql.Types.NVARCHAR(8)
              - column:
                  name: CURRENCY_NAME
                  type: java.sql.Types.NVARCHAR(63)
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_CURRENCY
              - column:
                  name: TENANT_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_CURRENCY_TENANT_ID_TENANT
                    referencedTableName: TENANT
                    referencedColumnNames: ID
                    deleteCascade: true
        - createTable:
            tableName: FILE_SOURCE
            columns:
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: FILENAME
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_FILE_SOURCE
              - column:
                  name: IMPORTED_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    unique: true
                    nullable: false
                    foreignKeyName: FK_FILE_SOURCE_IMPORTED_ID_IMPORT
                    referencedTableName: IMPORT
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: MD5
                  type: java.sql.Types.NVARCHAR(255)
        - createTable:
            tableName: IMPORT
            columns:
              - column:
                  name: IMPORTED_AT_DATE
                  type: java.sql.Types.DATE
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_IMPORT
              - column:
                  name: IMPORTED_AT_TS
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: IMPORTER_NAME
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: TENANT_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_IMPORT_TENANT_ID_TENANT
                    referencedTableName: TENANT
                    referencedColumnNames: ID
                    deleteCascade: true
        - createTable:
            tableName: SNAPSHOT
            columns:
              - column:
                  name: BALANCE
                  type: java.sql.Types.DECIMAL(40, 15)
              - column:
                  name: TAKEN_AT_DATE
                  type: java.sql.Types.DATE
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: ACCOUNT_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    nullable: false
                    foreignKeyName: FK_SNAPSHOT_ACCOUNT_ID_ACCOUNT
                    referencedTableName: ACCOUNT
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_SNAPSHOT
              - column:
                  name: IMPORTED_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    foreignKeyName: FK_SNAPSHOT_IMPORTED_ID_IMPORT
                    referencedTableName: IMPORT
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: TAKEN_AT_TS
                  type: java.sql.Types.NVARCHAR(255)
        - createTable:
            tableName: TENANT
            columns:
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_TENANT
              - column:
                  name: LOCALE
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: NAME
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: TIMEZONE
                  type: java.sql.Types.NVARCHAR(255)
        - createTable:
            tableName: TRANSACTION
            columns:
              - column:
                  name: SUBMITTED_AT_DATE
                  type: java.sql.Types.DATE
              - column:
                  name: CREATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: UPDATED_AT
                  type: java.sql.Types.TIMESTAMP_WITH_TIMEZONE
              - column:
                  name: VERSION
                  type: java.sql.Types.BIGINT
              - column:
                  name: MD5
                  type: java.sql.Types.NVARCHAR(63)
              - column:
                  name: DESCRIPTION
                  type: java.sql.Types.NVARCHAR(4095)
              - column:
                  name: ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    primaryKey: true
                    primaryKeyNAME: PK_TRANSACTION
              - column:
                  name: IMPORTED_ID
                  type: java.sql.Types.NVARCHAR(255)
                  constraints:
                    foreignKeyName: FK_TRANSACTION_IMPORTED_ID_IMPORT
                    referencedTableName: IMPORT
                    referencedColumnNames: ID
                    deleteCascade: true
              - column:
                  name: SUBMITTED_AT_TS
                  type: java.sql.Types.NVARCHAR(255)
              - column:
                  name: METADATA
                  type: java.sql.Types.CLOB(2147483647)
